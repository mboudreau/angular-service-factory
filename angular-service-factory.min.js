!function(window,angular,undefined){angular.module("codinghitchhiker.ServiceFactory",[]).constant("ServiceConstant",{UNSPECIFIED:-1,OFFLINE:0}).factory("ServiceFactory",["$http","$q","$log","ServiceConstant",function($http,$q,$log,ServiceConstant){var ServiceFactory=function(url){if(!(this instanceof ServiceFactory))throw"Service factory must be instantiated using 'new'";angular.isDefined(url)&&(url+=""),this.baseUrl=url||""};ServiceFactory.prototype.add=function(url){if(!angular.isString(url)&&!angular.isNumber(url))throw"URL added must be a string or number";return url+="",new ServiceFactory(["/"==this.baseUrl.slice(-1)?this.baseUrl.slice(0,-1):this.baseUrl].concat("/"==url.slice(0,1)?url.slice(1):url).join("/"))};var call=function(method){return function(params,data,config){return $http(angular.extend(config||{},{method:method,url:this.baseUrl,params:params,data:toJson(data)})).then(handleSuccess,handleError)}};angular.forEach(["get","delete","post","put","head","jsonp","patch"],function(value){ServiceFactory.prototype[value]=call(value)});var toJsonReplacer=function(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)?val=undefined:value&&value.window===value?val="$WINDOW":value&&document===value?val="$DOCUMENT":value&&value.$evalAsync&&value.$watch&&(val="$SCOPE"),val},toJson=function(obj,pretty){return"undefined"==typeof obj?undefined:JSON.stringify(obj,toJsonReplacer,pretty?"  ":null)},handleError=function(response){var error={id:ServiceConstant.UNSPECIFIED,message:"Something went wrong, we're looking into it",status:response.status};if(0===response.status&&(error.id=ServiceConstant.OFFLINE,error.message="Internet connection not available. Retry later."),response.data&&response.status>=400&&response.status<500){error.message=response.data.message;var id;for(var key in ServiceConstant)if(ServiceConstant[key]===response.data.id){id=ServiceConstant[key];break}id||(id=response.data.id,$log.warning('Error id "'+id+'" is missing from ServiceConstant')),error.id=id}return $q.reject(error)},handleSuccess=function(response){return response.data};return ServiceFactory}])}(window,window.angular);
//# sourceMappingURL=angular-service-factory.min.js.map